<div class="dashboard-grid" *ngIf="!cargando">
    <div class="section">
      <span class="title-chart">Top 5 de adjudicatarios en el último lustro</span>
      <mat-card class="mat-elevation-z4">
        <table mat-table [dataSource]="dataSourceGanador" matSort class="mat-table">

          <!-- Ganador -->
          <ng-container matColumnDef="ganador">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Ganador </th>
            <td mat-cell *matCellDef="let elemento"> {{ elemento.ganador }} </td>
          </ng-container>

          <!-- Importe -->
          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Total </th>
            <td mat-cell *matCellDef="let elemento"> {{ elemento.total | currency:'EUR' }} </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="columnas"></tr>
          <tr mat-row *matRowDef="let fila; columns: columnas;"></tr>
        </table>
      </mat-card>
      <span class="title-chart">Top 5 de licitadores en el último lustro</span>
      <mat-card class="mat-elevation-z4">
        <table mat-table [dataSource]="dataSourceLicitador" matSort class="mat-table">

          <!-- Ganador -->
          <ng-container matColumnDef="ganador">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Licitador </th>
            <td mat-cell *matCellDef="let elemento"> {{ elemento.licitador }} </td>
          </ng-container>

          <!-- Importe -->
          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Total </th>
            <td mat-cell *matCellDef="let elemento"> {{ elemento.total | currency:'EUR' }} </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="columnas"></tr>
          <tr mat-row *matRowDef="let fila; columns: columnas;"></tr>
        </table>
      </mat-card>
    </div>
    <div class="section" *ngIf="lineChartData.length>0">
      <span class="title-chart">Licitaciones anuales</span>
      <div class="inner-section">
        <ngx-charts-line-chart
        [results]="lineChartData"
        [legendPosition]= "legendPosition"
        [legendTitle]="'Leyenda'"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="true"
        [autoScale]="true"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="'Año'"
        [yAxisLabel]="'Importe (€)'">
      </ngx-charts-line-chart>
      </div>  
    </div>
  </div>

  <div class="overlay-cargando" *ngIf="cargando">
    <div class="spinner-wrapper">
      <mat-spinner diameter="48"></mat-spinner>
      <span>Cargando...</span>
    </div>
  </div>